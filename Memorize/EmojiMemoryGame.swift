//
//  EmojiMemoryGame.swift
//  Memorize
//
//  Created by Mateus Ara√∫jo on 24/12/22.
//

import SwiftUI

class EmojiMemoryGame: ObservableObject {
    typealias Card = MemoryGame<String>.Card
    
    private static let emojis = ["üê∂","üê±","üê≠","üêπ","üê∞","ü¶ä","üêª","üêº","üê®","üêØ","ü¶Å","üêÆ","üê∑","üêΩ","üê∏","üêµ","üôà","üôâ","üôä","üêí","üêî","üêß","üê¶","üê§","üê£","üê•","ü¶Ü","ü¶Ö","ü¶â","ü¶á","üê∫","üêó","üê¥","ü¶Ñ","üêù","üêõ","ü¶ã","üêå","üêö","üêû","üêú","üï∑","üï∏","üê¢","üêç","ü¶é","ü¶Ç","ü¶Ä","ü¶ë","üêô","ü¶ê","üê†","üêü","üê°","üê¨","ü¶à","üê≥","üêã","üêä","üêÜ","üêÖ","üêÉ","üêÇ","üêÑ","ü¶å","üê™","üê´","üêò","ü¶è","ü¶ç","üêé","üêñ","üêê","üêè","üêë","üêï","üê©","üêà","üêì","ü¶É","üïä","üêá","üêÅ","üêÄ","üêø","üêæ","üêâ","üê≤","üåµ","üéÑ","üå≤","üå≥","üå¥","üå±","üåø","‚òòÔ∏è","üçÄ","üéç","üéã","üçÉ","üçÇ","üçÅ","üçÑ","üåæ","üíê","üå∑","üåπ","ü•Ä","üåª","üåº","üå∏","üå∫","üåé","üåç","üåè","üåï","üåñ","üåó","üåò","üåë","üåí","üåì","üåî","üåö","üåù","üåû","üåõ","üåú","üåô","üí´","‚≠êÔ∏è","üåü","‚ú®","‚ö°Ô∏è","üî•","üí•","‚òÑ","‚òÄÔ∏è","üå§","‚õÖÔ∏è","üå•","üå¶","üåà","‚òÅÔ∏è","üåß","‚õà","üå©","üå®","‚òÉÔ∏è","‚õÑÔ∏è","‚ùÑÔ∏è","üå¨","üí®","üå™","üå´","üåä","üíß","üí¶","‚òîÔ∏è","ü¶ì","ü¶í","ü¶î","ü¶ï","ü¶ñ"]
    
    private static func createMemoryGame() -> MemoryGame<String> {
        MemoryGame<String>(numberOfPairsOfCards: 10) { pairIndex in
            if emojis.indices.contains(pairIndex) {
                return emojis[pairIndex]
            } else {
                return "‚ÅâÔ∏è"
            }
        }
    }
    
    @Published private var model = createMemoryGame()
    
    var cards: Array<MemoryGame<String>.Card> {
        model.cards
    }
    
    var color: Color {
        Color(hue: 0.442, saturation: 0.99, brightness: 0.985)
    }
    
    var score: Int {
        model.score
    }
    
    func shuffle() {
        model.shuffle()
    }
    
    func choose(_ card: Card) {
        model.choose(card)
    }
}
